/*
* Kendo UI Complete v2012.1.322 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at http://kendoui.com/complete-license
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(a,b){function cN(a,b){if(b===null)return null;var c=cN.cache[a]=cN.cache[a]||r(a,!0);return c(b)}function cM(a){return a*a}function cL(a){var b=a.length,c=0,d;for(d=0;d<b;d++)c=f.max(c,a[d].data.length);return c}function cK(a,b,c){a[b]=(a[b]||0)+c}function cJ(a,b){cI(a,b),cF(a,b)}function cI(b,d){var e=p({},(d||{}).axisDefaults);c(["category","value","x","y"],function(){var c=this+"Axis",d=[].concat(b[c]);d=a.map(d,function(a){var d=(a||{}).color;return p({},e,e[c],b.axisDefaults,{line:{color:d},labels:{color:d},title:{color:d}},a)}),b[c]=d.length>1?d:d[0]})}function cH(a){var b=a.series,c,d=b.length,e=a.seriesColors||[];for(c=0;c<d;c++)b[c].color=b[c].color||e[c%e.length]}function cG(a){delete a.bar,delete a.column,delete a.line,delete a.verticalLine,delete a.pie,delete a.area,delete a.verticalArea,delete a.scatter,delete a.scatterLine}function cF(a,b){var c=a.series,d,e=c.length,f,g=a.seriesDefaults,h=p({},a.seriesDefaults),i=b?p({},b.seriesDefaults):{},j=p({},i);cG(h),cG(j);for(d=0;d<e;d++)f=c[d].type||a.seriesDefaults.type,c[d]=p({},j,i[f],{tooltip:a.tooltip},h,g[f],c[d])}function cE(a,b,c,d){var e,f=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x),g=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y),h;g!=0&&(h=f/g,e=new B(a.x+h*(b.x-a.x),a.y+h*(b.y-a.y)));return e}function cD(a){var b=bw,c=bx,d,e=a.length,g;for(d=0;d<e;d++)g=a[d],K(g)&&(b=f.min(b,g),c=f.max(c,g));return{min:b,max:c}}function cC(a){return cD(a).max}function cB(a){return cD(a).min}var c=a.each,d=a.grep,e=a.map,f=Math,g=a.noop,h=a.extend,i=a.proxy,j=document,k=window.kendo,l=k.Class,m=k.data.DataSource,n=k.ui.Widget,o=k.template,p=k.deepExtend,q=k.format,r=k.getter,s=k.dataviz,t=s.Axis,u=s.BarAnimation,v=s.Box2D,w=s.BoxElement,x=s.ChartElement,y=s.Color,z=s.ElementAnimation,A=s.NumericAxis,B=s.Point2D,C=s.RootElement,D=s.Sector,E=s.Text,F=s.TextBox,G=s.Title,H=s.ViewElement,I=s.animationDecorator,J=s.append,K=s.defined,L=s.getSpacing,M=s.inArray,N=s.interpolateValue,O=s.last,P=s.round,Q=s.renderTemplate,R=s.uniqueId,S="k-",T="above",U="area",V="bar",W=.8,X=1.5,Y=.4,Z="below",$="#000",_="bottom",ba="center",bb="change",bc="circle",bd="click",be=s.CLIP,bf="column",bg=s.COORD_PRECISION,bh="dataBound",bi=s.DEFAULT_FONT,bj=s.DEFAULT_HEIGHT,bk=s.DEFAULT_PRECISION,bl=s.DEFAULT_WIDTH,bm="fadeIn",bn="glass",bo=s.INITIAL_ANIMATION_DURATION,bp="insideBase",bq="insideEnd",br="interpolate",bs="left",bt="line",bu=8,bv="linear",bw=Number.MAX_VALUE,bx=-Number.MAX_VALUE,by="mousemove.tracking",bz="mouseover",bA="onMinorTicks",bB="outsideEnd",bC="_outline",bD="pie",bE=70,bF="primary",bG="right",bH="roundedBevel",bI="scatter",bJ="scatterLine",bK="seriesClick",bL="string",bM="square",bN="swing",bO="top",bP=150,bQ=5,bR=100,bS="triangle",bT="verticalLine",bU="verticalArea",bV="#fff",bW="x",bX="y",bY="zero",bZ=[V,bf,bt,bT,U,bU],b$=[bI,bJ],b_=n.extend({init:function(a,b){var c=this,d,e,f=s.ui.themes.chart||{},g=(b||{}).dataSource,h;n.fn.init.call(c,a),d=p({},c.options,b),h=d.theme,e=h?f[h]||f[h.toLowerCase()]:{},cJ(d,e),c.options=p({},e,d),cH(c.options),c.bind(c.events,c.options),c.element.addClass("k-chart"),c.wrapper=c.element,c._dataChangeHandler=i(c._onDataChanged,c),c.dataSource=m.create(g).bind(bb,c._dataChangeHandler),g&&d.autoBind&&c.dataSource.fetch(),c._redraw(),c._attachEvents(),k.notify(c,s.ui)},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(bb,b._dataChangeHandler),b.dataSource=a,a.bind(bb,b._dataChangeHandler),a.fetch()},events:[bh,bK],items:function(){return a()},options:{name:"Chart",theme:"default",chartArea:{},title:{visible:!0},legend:{visible:!0},valueAxis:{type:"Numeric"},categoryAxis:{categories:[]},autoBind:!0,seriesDefaults:{type:bf,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",bar:{gap:X,spacing:Y},column:{gap:X,spacing:Y},line:{width:4},labels:{}},series:[],tooltip:{visible:!1},transitions:!0},refresh:function(){var a=this;cJ(a.options),a.dataSource?a.dataSource.read():a._redraw()},redraw:function(){var a=this;cJ(a.options),a._redraw()},_redraw:function(){var a=this,b=a.options,c=a.element,d=a._model=a._getModel(),e=a._plotArea=d._plotArea,f=s.ui.defaultView(),g;f&&(g=a._view=f.fromModel(d),c.css("position","relative"),a._viewElement=g.renderTo(c[0]),a._tooltip=new cA(c,b.tooltip),a._highlight=new cz(g,a._viewElement))},svg:function(){var a=this._getModel(),b=s.SVGView.fromModel(a);return b.render()},_getModel:function(){var a=this,b=a.options,c=a.element,d=new C(p({width:c.width()||bl,height:c.height()||bj,transitions:b.transitions},b.chartArea)),e;b.title&&b.title.visible&&b.title.text&&d.append(new G(b.title)),e=d._plotArea=a._createPlotArea(),b.legend.visible&&d.append(new cb(e.options.legend)),d.append(e),d.reflow();return d},_createPlotArea:function(){var a=this,b=a.options,c=b.series,d,e=c.length,f,g=[],h=[],i=[],j;for(d=0;d<e;d++)f=c[d],M(f.type,bZ)?g.push(f):M(f.type,b$)?h.push(f):f.type===bD&&i.push(f);i.length>0?j=new cv(i,b):h.length>0?j=new cu(h,b):j=new cs(g,b);return j},_attachEvents:function(){var a=this,b=a.element;b.bind(bd,i(a._click,a)),b.bind(bz,i(a._mouseOver,a))},_getPoint:function(a){var b=this,c=b._model,d=b._eventCoordinates(a),e=a.target.id,f=c.idMap[e],g=c.idMapMetadata[e],h;f&&(f.getNearestPoint&&g?h=f.getNearestPoint(d.x,d.y,g.seriesIx):h=f);return h},_eventCoordinates:function(b){var c=this.element,d=c.offset(),e=parseInt(c.css("paddingLeft"),10),f=parseInt(c.css("paddingTop"),10),g=a(window);return{x:b.clientX-d.left-e+g.scrollLeft(),y:b.clientY-d.top-f+g.scrollTop()}},_click:function(b){var c=this,d=c._getPoint(b);d&&c.trigger(bK,{value:d.value,category:d.category,series:d.series,dataItem:d.dataItem,element:a(b.target)})},_mouseOver:function(b){var c=this,d=c._tooltip,e=c._highlight,f,g;!!e&&e.element!==b.target&&(g=c._getPoint(b),g&&(c._activePoint=g,f=p({},c.options.tooltip,g.options.tooltip),f.visible&&d.show(g),e.show(g),a(j.body).bind(by,i(c._mouseMove,c))))},_mouseMove:function(b){var c=this,d=c._tooltip,e=c._highlight,f=c._eventCoordinates(b),g=c._activePoint,h,i,k;c._plotArea.box.containsPoint(f.x,f.y)?g&&(g.series.type===bt||g.series.type===U)&&(i=g.owner,k=i.getNearestPoint(f.x,f.y,g.seriesIx),k&&k!=g&&(c._activePoint=k,h=p({},c.options.tooltip,g.options.tooltip),h.visible&&d.show(k),e.show(k))):(a(j.body).unbind(by),delete c._activePoint,d.hide(),e.hide())},_onDataChanged:function(){var a=this,b=a.options,c=a._sourceSeries||b.series,d,e=c.length,f=a.dataSource.view(),g=(a.dataSource.group()||[]).length>0,h=[],i;for(d=0;d<e;d++)i=c[d],i.field||i.xField&&i.yField?(i.data=[],i.dataItems=f,[].push.apply(h,g?a._createGroupedSeries(i,f):[i])):h.push(i);a._sourceSeries=c,b.series=h,cH(a.options),a._bindSeries(),a._bindCategories(g?f[0].items:f),a.trigger(bh),a._redraw()},_createGroupedSeries:function(a,c){var d=[],e,f,g,h=c.length,i;a.groupNameTemplate&&(e=o(a.groupNameTemplate));for(g=0;g<h;g++)i=p({},a),i.color=b,d.push(i),f=c[g],i.dataItems=f.items,e&&(i.name=e({series:i,group:f}));return d},_bindSeries:function(){var a=this,c=a.options.series,d=c.length,e,f,g,h,i,j,k;for(e=0;e<d;e++){f=c[e],g=f.dataItems||[],i=g.length;for(h=0;h<i;h++)j=g[h],f.field?k=cN(f.field,j):f.xField&&f.yField?k=[cN(f.xField,j),cN(f.yField,j)]:k=b,K(k)&&(h===0?(f.data=[k],f.dataItems=[j]):(f.data.push(k),f.dataItems.push(j)))}},_bindCategories:function(a){var b=this.options.categoryAxis,c,d,e=a.length;if(b.field)for(c=0;c<e;c++)d=cN(b.field,a[c]),c===0?b.categories=[d]:b.categories.push(d)}}),ca=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.append(new F(a,c.options))},options:{position:bB,margin:L(3),padding:L(4),color:$,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:bm,delay:bo},zIndex:1},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=c.aboveAxis,f=b.children[0],g=f.box,h=f.options.padding;f.options.align=d?ba:bs,f.options.vAlign=d?bO:ba,c.position==bq?d?(f.options.vAlign=bO,!e&&g.height()<a.height()&&(f.options.vAlign=_)):f.options.align=e?bG:bs:c.position==ba?(f.options.vAlign=ba,f.options.align=ba):c.position==bp?d?f.options.vAlign=e?_:bO:f.options.align=e?bs:bG:c.position==bB&&(d?e?a=new v(a.x1,a.y1-g.height(),a.x2,a.y1):a=new v(a.x1,a.y2,a.x2,a.y2+g.height()):(f.options.align=ba,e?a=new v(a.x2+g.width(),a.y1,a.x2,a.y2):a=new v(a.x1-g.width(),a.y1,a.x1,a.y2))),d?h.left=h.right=(a.width()-f.contentBox.width())/2:h.top=h.bottom=(a.height()-f.contentBox.height())/2,f.reflow(a)}}),cb=x.extend({init:function(a){var b=this;x.fn.init.call(b,a),b.createLabels()},options:{position:bG,items:[],labels:{},offsetX:0,offsetY:0,margin:L(10),padding:L(5),border:{color:$,width:0},background:"",zIndex:1},createLabels:function(){var a=this,b=a.options.items,c=b.length,d,e,f;for(f=0;f<c;f++)e=b[f].name,d=new E(e,a.options.labels),a.append(d)},reflow:function(a){var b=this,c=b.options,d=b.children.length;if(d===0)b.box=a.clone();else{if(c.position=="custom"){b.customLayout(a);return}c.position==bO||c.position==_?b.horizontalLayout(a):b.verticalLayout(a)}},getViewElements:function(a){var b=this,c=b.children,d=b.options,e=d.items,f=e.length,g=b.markerSize(),h=a.createGroup({zIndex:d.zIndex}),i=d.border||{},j,k,l,m,n,o,p;J(h.children,x.fn.getViewElements.call(b,a));for(p=0;p<f;p++)m=e[p].color,n=c[p],k=new v,o=n.box,l=l?l.wrap(o):o.clone(),k.x1=o.x1-g*2,k.x2=k.x1+g,d.position==bO||d.position==_?k.y1=o.y1+g/2:k.y1=o.y1+(o.height()-g)/2,k.y2=k.y1+g,h.children.push(a.createRect(k,{fill:m,stroke:m}));c.length>0&&(j=L(d.padding),j.left+=g*2,l.pad(j),h.children.unshift(a.createRect(l,{stroke:i.width?i.color:"",strokeWidth:i.width,dashType:i.dashType,fill:d.background})));return[h]},verticalLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,g=d[0].box.clone(),h,i,j=L(c.margin),k=b.markerSize()*2,l,m;for(m=1;m<e;m++)l=b.children[m],l.box.alignTo(b.children[m-1].box,_),g.wrap(l.box);c.position==bs?(h=a.x1+k+j.left,i=(a.y2-g.height())/2,g.x2+=k+j.left+j.right):(h=a.x2-g.width()-j.right,i=(a.y2-g.height())/2,g.translate(h,i),g.x1-=k+j.left),b.translateChildren(h+c.offsetX,i+c.offsetY);var n=g.width();g.x1=f.max(a.x1,g.x1),g.x2=g.x1+n,g.y1=a.y1,g.y2=a.y2,b.box=g},horizontalLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,f=d[0].box.clone(),g=b.markerSize()*3,h,i,j=L(c.margin),k=d[0].box.width()+g,l=a.width(),m,n=0,o;for(o=1;o<e;o++)m=d[o],k+=m.box.width()+g,k>l-g?(m.box=new v(f.x1,f.y2,f.x1+m.box.width(),f.y2+m.box.height()),k=m.box.width()+g,n=m.box.y1):(m.box.alignTo(d[o-1].box,bG),m.box.y2=n+m.box.height(),m.box.y1=n,m.box.translate(g,0)),f.wrap(m.box);h=(a.width()-f.width()+g)/2,c.position===bO?(i=a.y1+j.top,f.y2=a.y1+f.height()+j.top+j.bottom,f.y1=a.y1):(i=a.y2-f.height()-j.bottom,f.y1=a.y2-f.height()-j.top-j.bottom,f.y2=a.y2),b.translateChildren(h+c.offsetX,i+c.offsetY),f.x1=a.x1,f.x2=a.x2,b.box=f},customLayout:function(a){var b=this,c=b.options,d=b.children,e=d.length,f=d[0].box.clone(),g=b.markerSize()*2,h;for(h=1;h<e;h++)f=b.children[h].box,f.alignTo(b.children[h-1].box,_),f.wrap(f);b.translateChildren(c.offsetX+g,c.offsetY),b.box=a},markerSize:function(){var a=this,b=a.children;return b.length>0?b[0].box.height()/2:0}}),cc=t.extend({options:{categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:$},zIndex:1},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(a){this.reflowAxis(a,bA)},getViewElements:function(a){var b=this,c=b.options,d=c.line,e=b.lineBox(),f=x.fn.getViewElements.call(b,a),g;d.width>0&&d.visible&&(g={strokeWidth:d.width,stroke:d.color,dashType:d.dashType,zIndex:d.zIndex},f.push(a.createLine(e.x1,e.y1,e.x2,e.y2,g)),J(f,b.renderTicks(a)),J(f,b.renderPlotBands(a)));return f},getTickPositions:function(a){var b=this,c=b.options,d=c.vertical,e=d?b.box.height():b.box.width(),f=e/a,g=d?b.box.y1:b.box.x1,h=[],i;for(i=0;i<a;i++)h.push(P(g,bg)),g+=f;h.push(d?b.box.y2:b.box.x2);return c.reverse?h.reverse():h},getMajorTickPositions:function(){var a=this;return a.getTickPositions(a.options.categories.length)},getMinorTickPositions:function(){var a=this;return a.getTickPositions(a.options.categories.length*2)},getSlot:function(a,b){var c=this,d=c.options,e=d.reverse,g=d.vertical,h=c.lineBox(),i=g?h.height():h.width(),j=f.max(1,d.categories.length),a=f.min(f.max(0,a),j),b=K(b)?b:a,b=f.max(f.min(j,b),a),k=g?bX:bW,l=h[k+(e?2:1)],m=(e?-1:1)*(i/j),n=l+a*m,o=n+m,p=b-a,q=new v(h.x1,h.y1,h.x1,h.y1);if(p>0||a==b&&j==a)o=n+p*m;q[k+1]=e?o:n,q[k+2]=e?n:o;return q},getLabelsCount:function(){return this.options.categories.length},getLabelText:function(a){var b=this.options;return K(b.categories[a])?b.categories[a]:""}}),cd=x.extend({init:function(a){var b=this;x.fn.init.call(b,a)},options:{vertical:!1,gap:0,spacing:0},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=d?bX:bW,f=b.children,g=c.gap,h=c.spacing,i=f.length,j=i+g+h*(i-1),k=(d?a.height():a.width())/j,l=a[e+1]+k*(g/2),m,n;for(n=0;n<i;n++)m=(f[n].box||a).clone(),m[e+1]=l,m[e+2]=l+k,f[n].reflow(m),n<i-1&&(l+=k*h),l+=k}}),ce=x.extend({init:function(a){var b=this;x.fn.init.call(b,a)},options:{vertical:!0,isReversed:!1},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=d?bW:bX,f=d?bX:bW,g=a[f+2],h=b.children,i=b.box=new v,j=h.length,k,l;c.isReversed?k=d?_:bs:k=d?bO:bG;for(l=0;l<j;l++){var m=h[l],n=m.box.clone();n.snapTo(a,e),m.options&&(m.options.stackBase=g),l==0?i=b.box=n.clone():n.alignTo(h[l-1].box,k),m.reflow(n),i.wrap(n)}}}),cf=x.extend({init:function(a,b){var c=this;c.value=a,c.options.id=R(),x.fn.init.call(c,b)},options:{color:bV,border:{width:1},vertical:!0,overlay:{gradient:bn},aboveAxis:!0,labels:{visible:!1},animation:{type:V},opacity:1},render:function(){var a=this,b=a.value,c=a.options,d=c.labels,e=b,f;a._rendered||(a._rendered=!0,d.visible&&b&&(d.template&&(f=o(d.template),e=f({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series})),a.append(new ca(e,p({vertical:c.vertical,id:R()},c.labels)))))},reflow:function(a){this.render();var b=this,c=b.options,d=b.children,e=d[0];b.box=a,e&&(e.options.aboveAxis=c.aboveAxis,e.reflow(a))},getViewElements:function(a){var b=this,c=b.options,d=c.vertical,e=c.border.width>0?{stroke:b.getBorderColor(),strokeWidth:c.border.width,dashType:c.border.dashType}:{},f=b.box,g=p({id:c.id,fill:c.color,fillOpacity:c.opacity,strokeOpacity:c.opacity,vertical:c.vertical,aboveAxis:c.aboveAxis,stackBase:c.stackBase,animation:c.animation},e),h=[],i=b.children[0];c.overlay&&(g.overlay=p({rotation:d?0:90},c.overlay)),h.push(a.createRect(f,g)),J(h,x.fn.getViewElements.call(b,a)),b.registerId(c.id),i&&b.registerId(i.options.id);return h},getOutlineElement:function(a,b){var c=this,d=c.box,e=c.options.id+bC;c.registerId(e),b=p({},b,{id:e});return a.createRect(d,b)},getBorderColor:function(){var a=this,b=a.options,c=b.color,d=b.border.color;K(d)||(d=(new y(c)).brightness(W).toHex());return d},tooltipAnchor:function(a,b){var c=this,d=c.options,e=c.box,f=d.vertical,g=d.aboveAxis,h,i;f?(h=e.x2+bQ,i=g?e.y1:e.y2-b):d.isStacked?(h=e.x2-a,i=e.y1-b-bQ):(h=e.x2+bQ,i=e.y1);return new B(h,i)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}}),cg=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.valueAxisRanges={},c.points=[],c.categoryPoints=[],c.seriesPoints=[],c.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var a=this;a.traverseDataPoints(i(a.addValue,a))},addValue:function(a,b,c,d,e){var f=this,g,h=f.categoryPoints[c],i=f.seriesPoints[e];h||(f.categoryPoints[c]=h=[]),i||(f.seriesPoints[e]=i=[]),f.updateRange(a,c,d),g=f.createPoint(a,b,c,d,e),g&&(g.category=b,g.series=d,g.seriesIx=e,g.owner=f,g.dataItem=d.dataItems?d.dataItems[c]:{value:a}),f.points.push(g),i.push(g),h.push(g)},updateRange:function(a,b,c){var d=this,e=c.axis||bF,g=d.valueAxisRanges[e];K(a)&&(g=d.valueAxisRanges[e]=g||{min:bw,max:bx},g.min=f.min(g.min,a),g.max=f.max(g.max,a))},seriesValueAxis:function(a){return this.plotArea.namedValueAxes[(a||{}).axis||bF]},reflow:function(a){var b=this,c=b.options,d=c.invertAxes,e=b.plotArea,f=0,g=b.categorySlots=[],h=b.points,i=e.categoryAxis,j,k,l;b.traverseDataPoints(function(a,c,e,m){j=b.seriesValueAxis(m),k=j.options.axisCrossingValue,l=h[f++],l&&l.plotValue&&(a=l.plotValue);var n=b.categorySlot(i,e,j),o=b.valueSlot(j,a),p=d?o:n,q=d?n:o,r=new v(p.x1,q.y1,p.x2,q.y2),s=j.options.reverse?a<k:a>=k;l&&(l.options.aboveAxis=s,l.reflow(r)),g[e]||(g[e]=n)}),b.reflowCategories(g),b.box=a},reflowCategories:function(){},valueSlot:function(a,b){return a.getSlot(b)},categorySlot:function(a,b){return a.getSlot(b)},traverseDataPoints:function(a){var b=this,c=b.options,d=c.series,e=b.plotArea.options.categoryAxis.categories||[],f=cL(d),g,h,i,j,k;for(g=0;g<f;g++)for(h=0;h<d.length;h++)j=e[g],k=d[h],i=k.data[g],a(i,j,g,k,h)},formatPointValue:function(a,b){return q(b,a)}}),ch=cg.extend({init:function(a,b){var c=this;c._groupTotals={},c._groups=[],cg.fn.init.call(c,a,b)},render:function(){var a=this;cg.fn.render.apply(a),a.computeAxisRanges()},createPoint:function(a,b,c,d,e){var f=this,g=f.options,h=f.children,i=f.options.isStacked,j=p({},d.labels),k,l;i&&j.position==bB&&(j.position=bq),k=new cf(a,p({},{vertical:!g.invertAxes,overlay:d.overlay,labels:j,isStacked:i},d)),l=h[c],l||(l=new cd({vertical:g.invertAxes,gap:g.gap,spacing:g.spacing}),f.append(l));if(i){var m=f.getStackWrap(d,l),n,o;m.children.length===0?(n=new ce({vertical:!g.invertAxes}),o=new ce({vertical:!g.invertAxes,isReversed:!0}),m.append(n,o)):(n=m.children[0],o=m.children[1]),a>0?n.append(k):o.append(k)}else l.append(k);return k},getStackWrap:function(a,b){var c=b.children,d=a.stack,e,f,g=c.length;if(typeof d===bL){for(f=0;f<g;f++)if(c[f]._stackGroup===d){e=c[f];break}}else e=c[0];e||(e=new x,e._stackGroup=d,b.append(e));return e},updateRange:function(a,b,c){var d=this,e=d.options.isStacked,f=d.groupTotals(c.stack),g=f.positive,h=f.negative;K(a)&&(e?cK(a>0?g:h,b,a):cg.fn.updateRange.apply(d,arguments))},computeAxisRanges:function(){var a=this,b=a.options.isStacked,c,d;b&&(c=a.options.series[0].axis||bF,d=a.categoryTotals(),a.valueAxisRanges[c]={min:cB(d.negative.concat(0)),max:cC(d.positive.concat(0))})},seriesValueAxis:function(a){var b=this,c=b.options;return cg.fn.seriesValueAxis.call(b,c.isStacked?b.options.series[0]:a)},valueSlot:function(a,c){return a.getSlot(c,this.options.isStacked?0:b)},categorySlot:function(a,b,c){var d=this,e=d.options,f=a.getSlot(b),g,h;e.isStacked&&(h=c.getSlot(0,0),g=e.invertAxes?bW:bX,f[g+1]=f[g+2]=h[g+1]);return f},reflowCategories:function(a){var b=this,c=b.children,d=c.length,e;for(e=0;e<d;e++)c[e].reflow(a[e])},groupTotals:function(a){var b=this,c=typeof a===bL?a:"default",d=b._groupTotals[c];d||(d=b._groupTotals[c]={positive:[],negative:[]},b._groups.push(c));return d},categoryTotals:function(){var a=this,b=a._groups,c=a._groupTotals,d,e,f={positive:[],negative:[]},g,h=b.length;for(g=0;g<h;g++)d=b[g],e=c[d],J(f.positive,e.positive),J(f.negative,e.negative);return f}}),ci=w.extend({init:function(a){var b=this;w.fn.init.call(b,a)},options:{type:bM,align:ba,vAlign:ba},getViewElements:function(a,b){var c=this,d=c.options,e=d.type,f=c.paddingBox,g=w.fn.getViewElements.call(c,a,b)[0],h=f.width()/2;if(!g)return[];e===bS?g=a.createPolyline([new B(f.x1+h,f.y1),new B(f.x1,f.y2),new B(f.x2,f.y2)],!0,g.options):e===bc&&(g=a.createCircle([P(f.x1+h,bg),P(f.y1+f.height()/2,bg)],h,g.options));return[g]}}),cj=x.extend({init:function(a,b){var c=this;c.value=a,H.fn.init.call(c,b)},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:bV,size:bu,type:bc,border:{width:2},opacity:1},labels:{visible:!1,position:T,margin:L(3),padding:L(4),animation:{type:bm,delay:bo}}},render:function(){var a=this,b=a.options,c=b.markers,d=b.labels,e=c.background,f=p({},c.border),g=a.value;if(!a._rendered){a._rendered=!0,K(f.color)||(f.color=(new y(e)).brightness(W).toHex()),a.marker=new ci({id:R(),visible:c.visible,type:c.type,width:c.size,height:c.size,background:e,border:f,opacity:c.opacity}),a.append(a.marker);if(d.visible){if(d.template){var h=o(d.template);g=h({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series})}else d.format&&(g=a.formatPointValue(d.format));a.label=new F(g,p({id:R(),align:ba,vAlign:ba,margin:{left:5,right:5}},d,{format:""})),a.append(a.label)}}},markerBox:function(){return this.marker.box},reflow:function(a){var b=this,c=b.options,d=c.vertical,e=c.aboveAxis,f;b.render(),b.box=a,f=a.clone(),d?e?f.y1-=f.height():f.y2+=f.height():e?f.x1+=f.width():f.x2-=f.width(),b.marker.reflow(f),b.reflowLabel(f)},reflowLabel:function(a){var b=this,c=b.options,d=b.marker,e=b.label,f=c.labels.position;e&&(f=f===T?bO:f,f=f===Z?_:f,e.reflow(a),e.box.alignTo(d.box,f),e.reflow(e.box))},getViewElements:function(a){var b=this,c=b.marker,d=b.label;b.registerId(c.options.id),d&&b.registerId(d.options.id);return x.fn.getViewElements.call(b,a)},getOutlineElement:function(a,b){var c=this,d=c.marker,e=c.marker.options.id+bC;c.registerId(e),b=p({},b,{id:e});return d.getViewElements(a,p(b,{fill:d.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(a,b){var c=this,d=c.marker.box,e=c.options.aboveAxis;return new B(d.x2+bQ,e?d.y1-b:d.y2)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}}),ck={splitSegments:function(a){var b=this,c=b.options,d=c.series,e=b.seriesPoints,f,g,h=e.length,i,j,k,l,m,n=[];for(g=0;g<h;g++){i=e[g],m=i.length,f=d[g],j=[];for(l=0;l<m;l++)k=i[l],k?(pointCenter=k.markerBox().center(),j.push(new B(pointCenter.x,pointCenter.y))):f.missingValues!==br&&(j.length>1&&n.push(b.createSegment(R(),a,j,f,g)),j=[]);j.length>1&&n.push(b.createSegment(R(),a,j,f,g))}return n},createSegment:function(a,b,c,d,e){this.registerId(a,{seriesIx:e});return b.createPolyline(c,!1,{id:a,stroke:d.color,strokeWidth:d.width,strokeOpacity:d.opacity,fill:"",dashType:d.dashType})},getNearestPoint:function(a,b,c){var d=this,e=d.options.invertAxes,g=e?bX:bW,h=e?b:a,i=d.seriesPoints[c],j=bw,k=i.length,l,m,n,o,p;for(p=0;p<k;p++)l=i[p],l&&K(l.value)&&l.value!==null&&(m=l.box,n=f.abs(m.center()[g]-h),n<j&&(o=l,j=n));return o}},cl=cg.extend({init:function(a,b){var c=this;c._stackAxisRange={min:bw,max:bx},c._categoryTotals=[],cg.fn.init.call(c,a,b)},render:function(){var a=this;cg.fn.render.apply(a),a.computeAxisRanges()},createPoint:function(a,b,c,d,e){var f=this,g=f.options,h=g.isStacked,i=f.categoryPoints[c],j,k=0;if(!K(a)||a===null)if(h||d.missingValues===bY)a=0;else return null;var l=new cj(a,p({vertical:!g.invertAxes,markers:{border:{color:d.color}}},d));h&&(j=O(i),j&&(k=j.plotValue),l.plotValue=a+k),f.append(l);return l},updateRange:function(a,b,c){var d=this,e=d.options.isStacked,g=d._stackAxisRange,h=d._categoryTotals;K(a)&&(e?(cK(h,b,a),g.min=f.min(g.min,cB(h)),g.max=f.max(g.max,cC(h))):cg.fn.updateRange.apply(d,arguments))},computeAxisRanges:function(){var a=this,b=a.options.isStacked,c,d=a._categoryTotals;b&&(c=a.options.series[0].axis||bF,a.valueAxisRanges[c]=a._stackAxisRange)},getViewElements:function(a){var b=this,c=cg.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}}),e=b.splitSegments(a);d.children=e.concat(c);return[d]}});p(cl.fn,ck);var cm=cl.extend({splitSegments:function(a){var b=this,c=b.options,d=b.plotArea,e=b.options.invertAxes,f=cl.fn.splitSegments.call(b,a),g=[],h=d.categoryAxis.lineBox(),i=e?h.x1:h.y1,j,k=f.length,l=0,m,n,o,p,q;for(q=0;q<k;q++)line=f[q].clone(),m=line.points,p=line.options,l=p.seriesIx,p.stack&&l!=0?l>0&&(j=f[q-1].clone().points.reverse(),line.points=m.concat(j)):m.length>1&&(n=m[0],o=O(m),e?(m.unshift(new B(i,n.y)),m.push(new B(i,o.y))):(m.unshift(new B(n.x,i)),m.push(new B(o.x,i)))),g.push(line);return g},createSegment:function(a,b,c,d,e){var f=p({},{color:d.color,opacity:d.opacity},d.line);this.registerId(a,{seriesIx:e});return b.createPolyline(c,!0,{id:a,stroke:f.color,strokeWidth:f.width,strokeOpacity:f.opacity,dashType:f.dashType,fillOpacity:d.opacity,fill:d.color,seriesIx:e,stack:d.stack})}}),cn=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.xAxisRanges={},c.yAxisRanges={},c.points=[],c.seriesPoints=[],c.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var a=this;a.traverseDataPoints(i(a.addValue,a))},addValue:function(a,b){var c=this,d,e=b.seriesIx,f=c.seriesPoints[e];c.updateRange(a,b.series),d=c.createPoint(a,b.series,e),d&&h(d,b),c.points.push(d),f.push(d)},updateRange:function(a,b){var c=this,d=a.x,e=a.y,g=b.xAxis||bF,h=b.yAxis||bF,i=c.xAxisRanges[g],j=c.yAxisRanges[h];K(d)&&d!==null&&(i=c.xAxisRanges[g]=i||{min:bw,max:bx},i.min=f.min(i.min,d),i.max=f.max(i.max,d)),K(e)&&e!==null&&(j=c.yAxisRanges[h]=j||{min:bw,max:bx},j.min=f.min(j.min,e),j.max=f.max(j.max,e))},createPoint:function(a,b,c){var d=this,e,f=a.x,g=a.y;if(!K(f)||f===null||!K(g)||g===null)return null;e=new cj(a,p({markers:{border:{color:b.color},opacity:b.opacity},tooltip:{format:d.options.tooltip.format},labels:{format:d.options.labels.format}},b)),d.append(e);return e},seriesAxes:function(a){var b=this.plotArea,c=a.xAxis||bF,d=a.yAxis||bF;return{x:b.namedXAxes[c],y:b.namedYAxes[d]}},reflow:function(a){var b=this,c=b.plotArea,d=b.points,e=0,f,g;b.traverseDataPoints(function(a,c){f=d[e++],g=b.seriesAxes(c.series);var h=g.x.getSlot(a.x,a.x),i=g.y.getSlot(a.y,a.y),j=new v(h.x1,i.y1,h.x2,i.y2);f&&f.reflow(j)}),b.box=a},getViewElements:function(a){var b=this,c=x.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}});d.children=c;return[d]},traverseDataPoints:function(a){var b=this,c=b.options,d=c.series,e=b.seriesPoints,f=0,g,h,i,j,k,l;for(g=0;g<d.length;g++){h=d[g],i=e[g],i||(e[g]=[]);for(f=0;f<h.data.length;f++)l=h.data[f]||[],j=h.dataItems,k={x:l[0],y:l[1]},a(k,{pointIx:f,series:h,seriesIx:g,dataItem:j?j[f]:k,owner:b})}},formatPointValue:function(a,b){return q(b,a.x,a.y)}}),co=cn.extend({getViewElements:function(a){var b=this,c=cn.fn.getViewElements.call(b,a),d=a.createGroup({animation:{type:be}}),e=b.splitSegments(a);d.children=e.concat(c);return[d]}});p(co.fn,ck);var cp=x.extend({init:function(a,b,c){var d=this;d.value=a,d.sector=b,x.fn.init.call(d,c)},options:{color:bV,overlay:{gradient:bH},border:{width:.5},labels:{visible:!1,distance:35,font:bi,margin:L(.5),align:bc,zIndex:1,position:bB},animation:{type:bD},highlight:{visible:!0,border:{width:1}}},render:function(){var a=this,b=a.options,c=b.labels,d=a.value,e;a._rendered||(a._rendered=!0,c.template&&(e=o(c.template),d=e({dataItem:a.dataItem,category:a.category,value:a.value,series:a.series,percentage:a.percentage})),c.visible&&(a.label=new F(d,p({},c,{id:R(),align:ba,vAlign:"",animation:{type:bm,delay:a.categoryIx*bE}})),a.append(a.label),a.registerId(a.label.options.id)))},reflow:function(a){var b=this;b.render(),b.box=a,a.clone(),b.reflowLabel()},reflowLabel:function(){var a=this,b=a.sector.clone(),c=a.options,d=a.label,e=c.labels,g=e.distance,h,i,j=b.middle(),k,l;d&&(l=d.box.height(),k=d.box.width(),e.position==ba?(b.r=f.abs((b.r-l)/2)+l,h=b.point(j),d.reflow(new v(h.x,h.y-l/2,h.x,h.y))):e.position==bq?(b.r=b.r-l/2,h=b.point(j),d.reflow(new v(h.x,h.y-l/2,h.x,h.y))):(h=b.clone().expand(g).point(j),h.x>=b.c.x?(i=h.x+k,d.orientation=bG):(i=h.x-k,d.orientation=bs),d.reflow(new v(i,h.y-l,h.x,h.y))))},getViewElements:function(a){var b=this,c=b.sector,d=b.options,e=d.border||{},f=e.width>0?{stroke:e.color,strokeWidth:e.width,dashType:e.dashType}:{},g=[],h=d.overlay;h&&(h=p({},d.overlay,{r:c.r,cx:c.c.x,cy:c.c.y,bbox:c.getBBox()})),b.value!==0&&g.push(a.createSector(c,p({id:d.id,fill:d.color,overlay:h,fillOpacity:d.opacity,strokeOpacity:d.opacity,animation:p(d.animation,{delay:b.categoryIx*bE})},f))),J(g,x.fn.getViewElements.call(b,a));return g},getOutlineElement:function(a,b){var c=this,d=c.options.highlight||{},e=d.border||{},f=c.options.id+bC,g;c.registerId(f),b=p({},b,{id:f}),c.value!==0&&(g=a.createSector(c.sector,p({},b,{fill:d.color,fillOpacity:d.opacity,strokeOpacity:e.opacity,strokeWidth:e.width,stroke:e.color})));return g},tooltipAnchor:function(a,b){var c=a/2,d=b/2,e=f.sqrt(c*c+d*d),g=this.sector.clone().expand(e+bQ),h=g.point(g.middle());return new B(h.x-c,h.y-d)},formatPointValue:function(a){var b=this;return b.owner.formatPointValue(b.value,a)}}),cq=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.plotArea=a,c.segments=[],c.seriesPoints=[],c.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var a=this;a.traverseDataPoints(i(a.addValue,a))},traverseDataPoints:function(a){var b=this,c=b.options,d=b.plotArea.options.seriesColors||[],e=c.startAngle,f=d.length,g=c.series,h,i,j,k,l,m,n,o,p,q,r;for(k=0;k<g.length;k++){i=g[k],h=i.dataItems,m=i.data,q=b.pointsTotal(m),n=360/q;for(r=0;r<m.length;r++)j=b.pointData(i,r),o=j.value,l=P(o*n,bk),p=m.length!=1&&!!j.explode,i.color=j.color?j.color:d[r%f],a(o,new D(null,0,e,l),{owner:b,category:j.category||"",categoryIx:r,series:i,seriesIx:k,dataItem:h?h[r]:j,percentage:o/q,explode:p,visibleInLegend:j.visibleInLegend}),e+=l}},addValue:function(a,b,c){var d=this,e;e=new cp(a,b,c.series),e.options.id=R(),h(e,c),d.append(e),d.segments.push(e)},pointValue:function(a){return K(a.value)?a.value:a},pointData:function(a,b){var c=this,d=a.data[b],e=["category","color","explode","visibleInLegend"],f=e.length,g,h,i={},j;for(j=0;j<f;j++)h=e[j],g=c.pointGetter(a,b,h),g!==""&&(i[h]=g);i.value=c.pointValue(d);return i},pointGetter:function(a,b,c){var d=a[c+"Field"],e=a.data[b],f=e[c];return d&&a.dataItems?cN(d,a.dataItems[b]):K(f)?f:""},pointsTotal:function(a){var b=this,c=a.length,d=0,e;for(e=0;e<c;e++)d+=b.pointValue(a[e]);return d},reflow:function(a){var b=this,c=b.options,d=a.clone(),e=5,g=f.min(d.width(),d.height()),h=g/2,i=g-g*.85,j=K(c.padding)?c.padding:i,j=j>h-e?h-e:j,k=new v(d.x1,d.y1,d.x1+g,d.y1+g),l=k.center(),m=d.center(),n=b.segments,o=n.length,p=[],q=[],r,s,t,u;k.translate(m.x-l.x,m.y-l.y);for(u=0;u<o;u++)s=n[u],t=s.sector,t.r=h-j,t.c=new B(t.r+k.x1+j,t.r+k.y1+j),s.explode&&(t.c=t.clone().radius(t.r*.15).point(t.middle())),s.reflow(k),r=s.label,r&&r.options.position===bB&&(r.orientation===bG?q.push(r):p.push(r));p.length>0&&(p.sort(b.labelComparator(!0)),b.leftLabelsReflow(p)),q.length>0&&(q.sort(b.labelComparator(!1)),b.rightLabelsReflow(q)),b.box=k},leftLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},rightLabelsReflow:function(a){var b=this,c=b.distanceBetweenLabels(a);b.distributeLabels(c,a)},distanceBetweenLabels:function(a){var b=this,c=b.segments[0],d=c.sector,e=a[0].box,f,g=a.length-1,h=[],i,j=d.r+c.options.labels.distance,k;i=P(e.y1-(d.c.y-j-e.height()-e.height()/2)),h.push(i);for(k=0;k<g;k++)e=a[k].box,f=a[k+1].box,i=P(f.y1-e.y2),h.push(i);i=P(d.c.y+j-a[g].box.y2-a[g].box.height()/2),h.push(i);return h},distributeLabels:function(a,b){var c=this,d=a.length,e,f,g,h;for(h=0;h<d;h++){f=g=h,e=-a[h];while(e>0&&(f>=0||g<d))e=c._takeDistance(a,h,--f,e),e=c._takeDistance(a,h,++g,e)}c.reflowLabels(a,b)},_takeDistance:function(a,b,c,d){if(a[c]>0){var e=f.min(a[c],d);d-=e,a[c]-=e,a[b]+=e}return d},reflowLabels:function(a,b){var c=this,d=c.segments,e=d[0],f=e.sector,g=b.length,h=e.options.labels,i=h.distance,j=f.c.y-(f.r+i)-b[0].box.height(),k,l,m,n;a[0]+=2;for(n=0;n<g;n++)k=b[n],j+=a[n],m=k.box,l=c.hAlignLabel(m.x2,f.clone().expand(i),j,j+m.height(),k.orientation==bG),k.orientation==bG?(h.align!==bc&&(l=f.r+f.c.x+i),k.reflow(new v(l+m.width(),j,l,j))):(h.align!==bc&&(l=f.c.x-f.r-i),k.reflow(new v(l-m.width(),j,l,j))),j+=m.height()},getViewElements:function(a){var b=this,c=b.options,d=c.connectors,e=b.segments,g,h,i=e.length,j=4,k,l=[],m,n,o,p,q;for(q=0;q<i;q++){n=e[q],h=n.sector,k=h.middle(),p=n.label,o={seriesId:n.seriesIx};if(p){m=[];if(p.options.position===bB&&n.value!==0){var r=p.box,s=h.c,t=h.point(k),u=new B(r.x1,r.center().y),v,w,y;t=h.clone().expand(d.padding).point(k),m.push(t),p.orientation==bG?(w=new B(r.x1-d.padding,r.center().y),y=cE(s,t,u,w),u=new B(w.x-j,w.y),y=y||u,y.x=f.min(y.x,u.x),b.pointInCircle(y,h.c,h.r+j)||y.x<h.c.x?(v=h.c.x+h.r+j,n.options.labels.align!==bf?v<u.x?m.push(new B(v,t.y)):m.push(new B(t.x+j*2,t.y)):m.push(new B(v,t.y)),m.push(new B(u.x,w.y))):(y.y=w.y,m.push(y))):(w=new B(r.x2+d.padding,r.center().y),y=cE(s,t,u,w),u=new B(w.x+j,w.y),y=y||u,y.x=f.max(y.x,u.x),b.pointInCircle(y,h.c,h.r+j)||y.x>h.c.x?(v=h.c.x-h.r-j,n.options.labels.align!==bf?v>u.x?m.push(new B(v,t.y)):m.push(new B(t.x-j*2,t.y)):m.push(new B(v,t.y)),m.push(new B(u.x,w.y))):(y.y=w.y,m.push(y))),m.push(w),g=a.createPolyline(m,!1,{id:R(),stroke:d.color,strokeWidth:d.width,animation:{type:bm,delay:n.categoryIx*bE}}),l.push(g),n.registerId(g.options.id,o)}n.registerId(p.options.id,o)}n.registerId(n.options.id,o)}J(l,x.fn.getViewElements.call(b,a));return l},labelComparator:function(a){a=a?-1:1;return function(b,c){b=(b.parent.sector.middle()+270)%360,c=(c.parent.sector.middle()+270)%360;return(b-c)*a}},hAlignLabel:function(a,b,c,d,e){var g=b.c.x,h=b.c.y,i=b.r,j=f.min(f.abs(h-c),f.abs(h-d));return j>i?a:g+f.sqrt(i*i-j*j)*(e?1:-1)},pointInCircle:function(a,b,c){return cM(b.x-a.x)+cM(b.y-a.y)<cM(c)},formatPointValue:function(a,b){return q(b,a)}}),cr=x.extend({init:function(a,b){var c=this;x.fn.init.call(c,b),c.series=a,c.charts=[],c.options.legend.items=[],c.axes=[],c.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:$,width:0},legend:{}},appendChart:function(a){var b=this;b.charts.push(a),b.addToLegend(a),b.append(a)},addToLegend:function(a){var b=a.options.series,c=b.length,d=[],e,f;for(e=0;e<c;e++)f=b[e],f.visibleInLegend!==!1&&d.push({name:f.name||"",color:f.color});J(this.options.legend.items,d)},reflow:function(a){var b=this,c=b.options.plotArea,d=L(c.margin);b.box=a.clone(),b.box.unpad(d),b.axes.length>0&&(b.reflowAxes(),b.box=b.axisBox()),b.reflowCharts()},axisCrossingValues:function(a,b){var c=a.options,d=[].concat(c.axisCrossingValue),e=b.length-d.length,f=d[0]||0,g;for(g=0;g<e;g++)d.push(f);return d},alignAxisTo:function(a,b,c,d){var e=a.getSlot(c,c),f=a.options.reverse?2:1,g=b.getSlot(d,d),h=b.options.reverse?2:1;a.reflow(a.box.translate(g[bW+h]-e[bW+f],g[bX+h]-e[bX+f]))},alignAxes:function(a,b){var c=this,d=a[0],e=b[0],f=c.axisCrossingValues(d,b),g=c.axisCrossingValues(e,a),h,i,j,k,l,m,n;for(n=0;n<b.length;n++)l=b[n],c.alignAxisTo(l,d,g[n],f[n]),l.lineBox().x1===d.lineBox().x1&&(h&&l.reflow(l.box.alignTo(h.box,bs).translate(-l.options.margin,0)),h=l),l.lineBox().x2===d.lineBox().x2&&(l._mirrored||(l.options.labels.mirror=!l.options.labels.mirror,l._mirrored=!0),c.alignAxisTo(l,d,g[n],f[n]),i&&l.reflow(l.box.alignTo(i.box,bG).translate(l.options.margin,0)),i=l);for(n=0;n<a.length;n++)l=a[n],c.alignAxisTo(l,e,f[n],g[n]),l.lineBox().y1===e.lineBox().y1&&(l._mirrored||(l.options.labels.mirror=!l.options.labels.mirror,l._mirrored=!0),c.alignAxisTo(l,e,f[n],g[n]),j&&l.reflow(l.box.alignTo(j.box,bO).translate(0,-l.options.margin)),j=l),l.lineBox().y2===e.lineBox().y2&&(k&&l.reflow(l.box.alignTo(k.box,_).translate(0,l.options.margin)),k=l)},axisBox:function(){var a=this,b=a.axes,c=b[0].box.clone(),d,e=b.length;for(d=1;d<e;d++)c.wrap(b[d].box);return c},shrinkAxes:function(){var a=this,b=a.box,c=a.axisBox(),d=c.height()-b.height(),e=c.width()-b.width(),f=a.axes,g,h,i,j=f.length;for(i=0;i<j;i++)g=f[i],h=g.options.vertical,g.reflow(g.box.shrink(h?0:e,h?d:0))},shrinkAdditionalAxes:function(a,b){var c=this,d=c.axes,e=a[0],g=b[0],h=e.lineBox().clone().wrap(g.lineBox()),i,j,k,l,m,n,o=d.length;for(n=0;n<o;n++)k=d[n],l=k.options.vertical,m=k.lineBox(),i=f.max(0,m.x2-h.x2)+f.max(0,h.x1-m.x1),j=f.max(0,m.y2-h.y2)+f.max(0,h.y1-m.y1),k.reflow(k.box.shrink(l?0:i,l?j:0))},fitAxes:function(){var a=this,b=a.axes,c=a.box,d=a.axisBox(),e=c.x1-d.x1,f=c.y1-d.y1,g,h,i=b.length;for(h=0;h<i;h++)g=b[h],g.reflow(g.box.translate(e,f))},reflowAxes:function(){var a=this,b=a.axes,c=d(b,function(a){return!a.options.vertical}),e=d(b,function(a){return a.options.vertical}),f,g=b.length;for(f=0;f<g;f++)b[f].reflow(a.box);a.alignAxes(c,e),a.shrinkAdditionalAxes(c,e),a.alignAxes(c,e),a.shrinkAxes(),a.alignAxes(c,e),a.fitAxes()},reflowCharts:function(){var a=this,b=a.charts,c=b.length,d=a.box,e;for(e=0;e<c;e++)b[e].reflow(d);a.box=d},renderGridLines:function(a,b,c){var d=b.options,f=d.vertical,g=b.getSlot(d.axisCrossingValue),h=P(g[f?"y1":"x1"]),i=c.lineBox(),j=i[f?"x1":"y1"],k=i[f?"x2":"y2"],l=b.getMajorTickPositions(),m=[],n=function(a,b){return{pos:a,options:b}};d.majorGridLines.visible&&(m=e(l,function(a){return n(a,d.majorGridLines)})),d.minorGridLines.visible&&(m=m.concat(e(b.getMinorTickPositions(),function(a){if(!d.majorGridLines.visible)return n(a,d.minorGridLines);if(!M(a,l))return n(a,d.minorGridLines)})));return e(m,function(b){var d={strokeWidth:b.options.width,stroke:b.options.color,dashType:b.options.dashType},e=P(b.pos);if(h===e&&c.options.line.visible)return null;return f?a.createLine(j,e,k,e,d):a.createLine(e,j,e,k,d)})},getViewElements:function(a){var b=this,c=b.options.plotArea,d=b.axisY,e=b.axisX,f=d?b.renderGridLines(a,d,e):[],g=e?b.renderGridLines(a,e,d):[],h=x.fn.getViewElements.call(b,a),i=c.border||{},j=[a.createRect(b.box,{fill:c.background,zIndex:-1}),a.createRect(b.box,{stroke:i.width?i.color:"",strokeWidth:i.width,fill:"",zIndex:0,dashType:i.dashType})];return[].concat(f,g,h,j)}}),cs=cr.extend({init:function(a,b){var c=this,d=p({},c.options,b);c.namedValueAxes={},c.valueAxisRangeTracker=new ct(d.valueAxis),a.length>0&&(c.invertAxes=M(a[0].type,[V,bT,bU])),cr.fn.init.call(c,a,b)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(){var a=this,b=a.series;a.createBarChart(d(b,function(a){return M(a.type,[V,bf])})),a.createLineChart(d(b,function(a){return M(a.type,[bt,bT])})),a.createAreaChart(d(b,function(a){return M(a.type,[U,bU])})),a.createAxes()},appendChart:function(a){var b=this,c=b.options,d=a.options.series,e=c.categoryAxis.categories,g=f.max(0,cL(d)-e.length);J(e,Array(g)),b.valueAxisRangeTracker.update(a.valueAxisRanges),cr.fn.appendChart.call(b,a)},createBarChart:function(a){if(a.length!==0){var b=this,c=b.options,d=a[0],e=new ch(b,{series:a,invertAxes:b.invertAxes,isStacked:d.stack&&a.length>1,gap:d.gap,spacing:d.spacing});b.appendChart(e)}},createLineChart:function(a){if(a.length!==0){var b=this,c=b.options,d=a[0],e=new cl(b,{invertAxes:b.invertAxes,isStacked:d.stack&&a.length>1,series:a});b.appendChart(e)}},createAreaChart:function(a){if(a.length!==0){var b=this,c=b.options,d=a[0],e=new cm(b,{invertAxes:b.invertAxes,isStacked:d.stack&&a.length>1,series:a});b.appendChart(e)}},createAxes:function(){var a=this,b=a.options,d,e=a.invertAxes,f=b.categoryAxis.categories.length,g=new cc(p({vertical:e,axisCrossingValue:e?f:0},b.categoryAxis)),h,i,j=a.namedValueAxes,k=[].concat(b.valueAxis),l;c(k,function(){i=this.name||bF,d=a.valueAxisRangeTracker.query(i),h=j[i]=new A(d.min,d.max,p({vertical:!e},this)),a.axes.push(h),a.append(h)}),l=j[bF]||a.axes[0],a.axisX=e?l:g,a.axisY=e?g:l,a.categoryAxis=g,a.axes.push(g),a.append(a.categoryAxis)}}),ct=l.extend({init:function(a){var b=this;b.axisRanges={},b.axisOptions=[].concat(a),b.defaultRange={min:0,max:1}},update:function(a){var b=this,c=b.axisRanges,d=b.axisOptions,e,g,h,i,j,k=d.length;if(!!a)for(h=0;h<k;h++)i=d[h],j=i.name||bF,e=c[j],g=a[j],g&&(c[j]=e=e||{min:bw,max:bx},e.min=f.min(e.min,g.min),e.max=f.max(e.max,g.max))},query:function(a){var b=this;return b.axisRanges[a]||p({},b.defaultRange)}}),cu=cr.extend({init:function(a,b){var c=this,d=p({},c.options,b);c.namedXAxes={},c.namedYAxes={},c.xAxisRangeTracker=new ct(d.xAxis),c.yAxisRangeTracker=new ct(d.yAxis),cr.fn.init.call(c,a,b)},options:{xAxis:{},yAxis:{}},render:function(){var a=this,b=a.series;a.createScatterChart(d(b,function(a){return a.type===bI})),a.createScatterLineChart(d(b,function(a){return a.type===bJ})),a.createAxes()},appendChart:function(a){var b=this;b.xAxisRangeTracker.update(a.xAxisRanges),b.yAxisRangeTracker.update(a.yAxisRanges),cr.fn.appendChart.call(b,a)},createScatterChart:function(a){var b=this;a.length>0&&b.appendChart(new cn(b,{series:a}))},createScatterLineChart:function(a){var b=this;a.length>0&&b.appendChart(new co(b,{series:a}))},createXYAxis:function(a,b){var c=this,d=a.name||bF,e=b?c.namedYAxes:c.namedXAxes,f=b?c.yAxisRanges:c.xAxisRanges,g=b?c.yAxisRangeTracker:c.xAxisRangeTracker,h=g.query(d),a=p({},a,{vertical:b}),i=new A(h.min,h.max,a);e[d]=i,c.append(i),c.axes.push(i)},createAxes:function(){var a=this,b=a.options,d=[].concat(b.xAxis),e=[].concat(b.yAxis);c(d,function(){a.createXYAxis(this,!1)}),c(e,function(){a.createXYAxis(this,!0)}),a.axisX=a.namedXAxes.primary||a.namedXAxes[d[0].name],a.axisY=a.namedYAxes.primary||a.namedYAxes[e[0].name]}}),cv=cr.extend({render:function(){var a=this,b=a.series;a.createPieChart(b)},createPieChart:function(a){var b=this,c=a[0],d=new cq(b,{series:a,padding:c.padding,startAngle:c.startAngle,connectors:c.connectors});b.appendChart(d)},addToLegend:function(a){var b=this,c=b.options,d=a.segments,e=d.length,f,g;for(f=0;f<e;f++)g=d[f],g.visibleInLegend!==!1&&c.legend.items.push({name:g.category,color:g.options.color})}}),cw=z.extend({options:{easing:"easeOutElastic",duration:bo},setup:function(){var a=this.element.config;this.endRadius=a.r,a.r=0},step:function(a){var b=this.endRadius,c=this.element.config;c.r=N(0,b,a)}}),cx=I(V,u),cy=I(bD,cw),cz=l.extend({init:function(a,b,c){var d=this;d.options=p({},d.options,c),d.view=a,d.viewElement=b},options:{fill:bV,fillOpacity:.2,stroke:bV,strokeWidth:1,strokeOpacity:.2},show:function(a){var b=this,c=b.view,d=b.viewElement,e,f;b.hide(),a.getOutlineElement&&(e=a.getOutlineElement(c,b.options),e&&(f=c.renderElement(e),d.appendChild(f),b.element=f,b.visible=!0))},hide:function(){var a=this,b=a.element;b&&(b.parentNode&&b.parentNode.removeChild(b),delete a.element,a.visible=!1)}}),cA=l.extend({init:function(b,c){var d=this;d.options=p({},d.options,c),c=d.options,d.chartElement=b,d.chartPadding={top:parseInt(b.css("paddingTop"),10),left:parseInt(b.css("paddingLeft"),10)},d.template=cA.template,d.template||(d.template=cA.template=Q("<div class='"+S+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),d.element=a(d.template(d.options)).appendTo(b)},options:{background:$,color:bV,border:{width:3},opacity:1,animation:{duration:bP}},show:function(a){var b=this;b.point=a,b.showTimeout=setTimeout(i(b._show,b),bR)},_show:function(){var a=this,b=a.point,c=a.element,d=a.options,e=a.chartPadding,f,g,h,i,j,k;!b||(h=b.value.toString(),i=p({},a.options,b.options.tooltip),i.template?(g=o(i.template),h=g({value:b.value,category:b.category,series:b.series,dataItem:b.dataItem,percentage:b.percentage})):i.format&&(h=b.formatPointValue(i.format)),c.html(h),f=b.tooltipAnchor(c.outerWidth(),c.outerHeight()),j=P(f.y+e.top)+"px",k=P(f.x+e.left)+"px",a.visible||a.element.css({top:j,left:k}),a.element.css({backgroundColor:i.background,borderColor:i.border.color||b.options.color,color:i.color,opacity:i.opacity,borderWidth:i.border.width}).stop(!0,!0).show().animate({left:k,top:j},d.animation.duration),a.visible=!0)},hide:function(){var a=this;clearTimeout(a.showTimeout),a.visible&&(a.element.fadeOut(),a.point=null,a.visible=!1)}});h(a.easing,{easeOutElastic:function(a,b,c,d){var e=1.70158,g=0,h=d;if(a===0)return c;if(a===1)return c+d;g||(g=.5),h<f.abs(d)?(h=d,e=g/4):e=g/(2*f.PI)*f.asin(d/h);return h*f.pow(2,-10*a)*f.sin((a*1-e)*1.1*f.PI/g)+d+c}}),cN.cache={},s.ui.plugin(b_),p(s,{AreaChart:cm,Bar:cf,BarAnimationDecorator:cx,BarChart:ch,BarLabel:ca,CategoricalPlotArea:cs,CategoryAxis:cc,ClusterLayout:cd,Highlight:cz,Legend:cb,LineChart:cl,LinePoint:cj,PieAnimation:cw,PieAnimationDecorator:cy,PieChart:cq,PiePlotArea:cv,PieSegment:cp,ScatterChart:cn,ScatterLineChart:co,ShapeElement:ci,StackLayout:ce,Tooltip:cA,XYPlotArea:cu,categoriesCount:cL})})(jQuery)